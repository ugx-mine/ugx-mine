<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!-- ‚úÖ FIXED VIEWPORT FOR IOS -->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>UGX Mining Platform</title>
<!-- ‚úÖ CLEANED CDN URLS -->
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<!-- ‚úÖ PINNED SUPABASE -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.42.0"></script>
<style>
.mining-card {
background-color: #00000028;
border: 1px solid #409c9e;
border-radius: 16px;
padding: 1.5rem;
margin-bottom: 1.5rem;
}
.booster-card {
background-color: #041f3b;
border: 1px solid #a4a9aae7;
border-radius: 16px;
padding: 1.5rem;
transition: all 0.3s ease;
position: relative;
overflow: hidden;
}
.booster-card::before {
content: '';
position: absolute;
top: -50%;
left: -50%;
width: 200%;
height: 200%;
background: #48bede33;
transform: rotate(30deg);
pointer-events: none;
}
.booster-card:hover {
transform: translateY(-5px);
border-color: #00c16a;
box-shadow: 0 10px 25px rgba(0, 193, 106, 0.2);
}
.auth-tab { padding: 0.5rem 1rem; cursor: pointer; border-radius: 0.5rem; }
.auth-tab.active { background: rgba(0, 193, 106, 0.2); color: #00c16a; }
.countdown-display {
font-family: 'Courier New', monospace;
font-size: 1.8rem;
background: rgba(0, 30, 20, 0.6);
color: #ff6b35;
border: 1px solid #ff0000;
padding: 0.5rem 1rem;
border-radius: 12px;
min-width: 160px;
text-align: center;
box-shadow: 0 0 10px rgba(227, 96, 20, 0.911);
letter-spacing: 2px;
}
.loading-btn {
opacity: 0.75;
cursor: not-allowed;
}
/* ‚úÖ IOS TAP FIX */
body { 
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}
button {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
}
</style>
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen font-sans">
<div class="container mx-auto px-4 py-6">
<header class="flex justify-between items-center mb-8">
<div class="flex items-center space-x-3">
<div class="bg-green-500 p-2 rounded-lg"><i class="fas fa-coins text-xl"></i></div>
<h1 class="text-2xl font-bold">UGX<span class="text-white">Mine</span></h1>
</div>
<div class="flex gap-2">
<button id="adminPanelBtn" class="px-3 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-sm hidden">Admin Panel</button>
<button id="authToggle" class="px-4 py-2 bg-red-600 hover:bg-green-700 rounded-lg">Logout</button>
</div>
</header>
<!-- Auth Modal -->
<div id="authCard" class="fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center hidden">
<div class="bg-gray-800 rounded-xl p-6 w-full max-w-md">
<div class="flex mb-4 bg-gray-700 rounded-lg p-1">
<div id="tabSignup" class="auth-tab active flex-1 text-center">Sign Up</div>
<div id="tabLogin" class="auth-tab flex-1 text-center">Login</div>
</div>
<form id="signupForm" class="space-y-4">
<input type="text" id="signupUsername" placeholder="Username" class="w-full bg-gray-700 rounded-lg px-4 py-2" required>
<input type="email" id="signupEmail" placeholder="Email" class="w-full bg-gray-700 rounded-lg px-4 py-2" required>
<input type="password" id="signupPassword" placeholder="Password" class="w-full bg-gray-700 rounded-lg px-4 py-2" required>
<button type="submit" class="w-full bg-green-600 py-2 rounded-lg">Create Account</button>
</form>
<form id="loginForm" class="hidden space-y-4">
<input type="text" id="loginUsername" placeholder="Username" class="w-full bg-gray-700 rounded-lg px-4 py-2" required>
<input type="password" id="loginPassword" placeholder="Password" class="w-full bg-gray-700 rounded-lg px-4 py-2" required>
<a href="mailto:auraaimoney@gmail.com" class="text-xs text-gray-400 hover:text-gray-300 block text-center">Forgot password? Contact admin</a>
<button type="submit" class="w-full bg-emerald-600 py-2 rounded-lg">Login</button>
</form>
</div>
</div>
<!-- Main Dashboard -->
<main id="mainContent" class="hidden">
<!-- 1. Profile Header -->
<div class="mining-card flex justify-between items-center">
<div>
<h2 id="profileUserName" class="text-xl font-bold">---</h2>
<p id="profileUserEmail" class="text-gray-400 text-sm">---</p>
<p id="profileUserId" class="text-gray-500 text-xs">ID: ---</p>
</div>
<button id="editProfileBtn" class="border border-green-500 text-green-500 px-4 py-1 rounded-lg text-sm">Set Wallet</button>
</div>
<!-- 2. Modern Mining Card -->
<div class="flex justify-center mb-6">
<div class="mining-card w-full max-w-2xl text-center">
<p class="font-bold text-amber-400">Your Balance</p>
<p id="balanceUGX" class="text-4xl md:text-5xl font-bold text-white my-2">0 UGX</p>
<p id="balanceUSDT" class="text-gray-500 text-sm mb-4">~0.00 USDT</p>
<div class="flex flex-wrap justify-center gap-4 mb-4">
<div>
<p class="text-gray-400 text-sm">Next Claim</p>
<p id="nextClaimAmount" class="font-bold text-green-400">+5,000 UGX</p>
</div>
<div>
<p class="text-gray-400 text-sm">Mining Cycle</p>
<p id="miningCycleDisplay" class="font-bold">24h</p>
</div>
</div>
<div class="flex justify-center items-center mb-2">
<div id="miningCountdown" class="countdown-display text-2xl px-4 py-2 min-w-[160px]">
Ready!
</div>
</div>
<!-- Booster Expiry Timer -->
<p id="boosterExpiry" class="text-xs text-gray-400 mt-1 hidden"></p>
<button id="miningBtn" class="mt-3 w-full max-w-xs mx-auto bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 py-3 rounded-lg font-bold text-white shadow-lg hover:shadow-xl transition">
Claim
</button>
</div>
</div>
<!-- 3. Withdraw (BEFORE boosters) -->
<div class="mining-card mb-6">
<h3 class="font-bold mb-2">Withdraw Funds</h3>
<button id="openWithdrawModalBtn" class="w-full bg-amber-600 hover:bg-amber-700 py-3 rounded-lg font-bold">
Withdraw <span id="withdrawDayLabel">(‚Äî)</span>
</button>
<p id="withdrawCountdown" class="text-xs text-gray-500 mt-1"></p>
<p class="text-xs text-gray-500 mt-1">20% USDT fee ‚Ä¢ Arbitrum Network ‚Ä¢ Once per week</p>
</div>
<!-- 4. Boosters -->
<h3 class="text-lg font-bold mb-4">Boostizers</h3>
<div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
<div class="booster-card relative overflow-hidden">
<h4 class="font-bold text-lg">Eager_Miner</h4>
<p class="text-3xl md:text-4xl font-bold text-blue-600 my-2">2h cycle</p>
<p class="font-bold text-green-400 mt-1" id="eagleReward">+0 UGX / claim</p>
<p class="text-gold-500 text-xs mt-1">Double your investment in 24h!</p>
<button onclick="showBoosterModal(2, getBoosterReward(user?.balance || 0, 'eagle'), (user?.balance || 0) * 2)" class="w-full mt-2 bg-blue-600 py-3 rounded-lg font-bold">Buy for <span id="priceEagle">‚Äî</span></button>
</div>
<div class="booster-card relative overflow-hidden">
<h4 class="font-bold text-lg">Falcon_Miner</h4>
<p class="text-3xl md:text-4xl font-bold text-purple-600 my-2">2h cycle</p>
<p class="font-bold text-green-400 mt-1" id="falconReward">+0 UGX / claim</p>
<p class="text-gold-500 text-xs mt-1">Double your investment in 24h!</p>
<button onclick="showBoosterModal(2, getBoosterReward(user?.balance || 0, 'falcon'), (user?.balance || 0) * 4)" class="w-full mt-2 bg-purple-600 py-3 rounded-lg font-bold">Buy for <span id="priceFalcon">‚Äî</span></button>
</div>
<div class="booster-card relative overflow-hidden">
<h4 class="font-bold text-lg">Phoenix_Miner</h4>
<p class="text-3xl md:text-4xl font-bold text-amber-600 my-2">2h cycle</p>
<p class="font-bold text-green-400 mt-1" id="phoenixReward">+0 UGX / claim</p>
<p class="text-gold-500 text-xs mt-1">Double your investment in 24h!</p>
<button onclick="showBoosterModal(2, getBoosterReward(user?.balance || 0, 'phoenix'), (user?.balance || 0) * 8)" class="w-full mt-2 bg-amber-600 py-3 rounded-lg font-bold">Buy for <span id="pricePhoenix">‚Äî</span></button>
</div>
</div>
<!-- 5. Transaction History -->
<div class="mining-card mt-6">
<h3 class="font-bold">Transaction History</h3>
<div id="transactionHistoryList" class="mt-3 text-sm space-y-2 max-h-60 overflow-y-auto">
<p class="text-gray-500">Loading transactions...</p>
</div>
</div>
<!-- 6. Invite Friends -->
<div class="mining-card mt-6">
<h3 class="font-bold">Invite Friends</h3>
<p class="text-sm text-gray-400 mb-2">Get 5,000 UGX per friend (max 2 friends)!</p>
<div class="flex items-center bg-gray-700 p-2 rounded">
<input type="text" id="refLink" class="bg-transparent flex-1 text-xs" readonly>
<button onclick="copyRefLink()" class="text-green-500 ml-2 text-sm">Copy</button>
</div>
</div>
<!-- 7. Live Activity (FOMO) -->
<div class="mining-card mt-6">
<h3 class="font-bold mb-3">Live Activity</h3>
<div class="space-y-3">
<div>
<p class="text-xs text-gray-400">Recent Withdrawals</p>
<div id="fakeWithdraws" class="text-sm"></div>
</div>
<div>
<p class="text-xs text-gray-400">Booster Activations</p>
<div id="fakeBoosters" class="text-sm"></div>
</div>
</div>
</div>
<!-- 8. How It Works (FAQ - LAST) -->
<div class="mining-card mt-6">
<h3 class="font-bold mb-3">How It Works</h3>
<ul class="text-sm space-y-2 text-gray-300">
<li>‚úÖ <strong>Mine UGX</strong>: Claim 5,000 UGX every 24h (faster with boosters)</li>
<li>‚úÖ <strong>Withdraw</strong>: Pay 20% fee in USDT via <strong>Arbitrum Network</strong> ‚Üí Admin approves ‚Üí Balance reset</li>
<li>‚úÖ <strong>Boosters</strong>: Pay USDT to mine every 2h ‚Äî **earn 2√ó your investment in 24h!**</li>
<li>‚úÖ <strong>Referrals</strong>: Max 2 friends = 10,000 UGX total</li>
<li>‚ö†Ô∏è <strong>Note</strong>: All payouts are processed manually by our team</li>
<li>üé¨ <button onclick="document.getElementById('howItWorksModal').classList.remove('hidden')" class="text-green-400 underline">Watch tutorial videos</button></li>
</ul>
</div>
</main>
<!-- Admin Panel -->
<div id="adminPanel" class="hidden">
<h2 class="text-2xl font-bold mb-4">Admin Dashboard</h2>
<div id="adminUserList" class="space-y-2"></div>
</div>
<!-- Wallet Modal -->
<div id="walletModal" class="fixed inset-0 bg-black/80 flex items-center justify-center hidden">
<div class="bg-gray-800 p-6 rounded-xl w-80">
<h3 class="mb-4">Enter Arbitrum Wallet</h3>
<input type="text" id="walletInput" class="w-full bg-gray-700 p-2 rounded mb-4" placeholder="0x...">
<button id="saveWalletBtn" class="w-full bg-green-600 py-2 rounded">Save</button>
<button onclick="document.getElementById('walletModal').classList.add('hidden')" class="w-full mt-2 text-gray-400">Cancel</button>
</div>
</div>
<!-- Booster Modal -->
<div id="boosterModal" class="fixed inset-0 bg-black/80 flex items-center justify-center hidden z-50">
<div class="bg-gray-800 p-6 rounded-xl w-96">
<h3 class="text-lg font-bold mb-3" id="boosterModalTitle">Activate Booster</h3>
<p id="boosterModalCurrent" class="text-gray-400 text-sm mb-1">Currently: ...</p>
<p id="boosterModalNew" class="text-green-400 font-bold mb-4">After: ...</p>
<p class="text-sm mb-2">Send <span id="boosterModalPrice"></span> using <strong>Arbitrum Network</strong>:</p>
<div class="flex items-center bg-gray-700 p-2 rounded mb-3">
<code id="adminWalletDisplay" class="text-xs break-all flex-1">0xb9fec9b1a49726089f058de4f4225ecbaa88cbbc</code>
<button onclick="copyAdminWallet()" class="text-green-500 ml-2 text-sm">Copy</button>
</div>
<p class="text-xs text-red-400 mb-3">‚ö†Ô∏è <strong>Arbitrum Network ONLY!</strong> Sending from BSC, Ethereum, or TRON will lose your funds.</p>
<p class="text-sm mb-2">Enter Transaction ID:</p>
<input type="text" id="txIdInput" class="w-full bg-gray-700 p-2 rounded mb-4" placeholder="e.g. 0xabc123...">
<div class="flex gap-2">
<button id="submitBoosterBtn" onclick="submitBoosterRequest()" class="flex-1 bg-green-600 py-2 rounded">Submit for Approval</button>
<button onclick="document.getElementById('boosterModal').classList.add('hidden')" class="flex-1 bg-gray-600 py-2 rounded">Cancel</button>
</div>
</div>
</div>
<!-- Withdraw Modal -->
<div id="withdrawModal" class="fixed inset-0 bg-black/80 flex items-center justify-center hidden z-50">
<div class="bg-gray-800 p-6 rounded-xl w-96">
<h3 class="text-lg font-bold mb-3">Withdraw Funds</h3>
<p class="text-sm mb-1">Total Balance:</p>
<p id="withdrawTotal" class="font-bold text-lg">0 UGX</p>
<p class="text-sm mt-3 mb-1">Processing Fee (20%):</p>
<p id="withdrawFee" class="text-amber-400 font-bold">0.00 USDT</p>
<p class="text-sm mb-2">Send <span id="withdrawFee" class="text-amber-400 font-bold">0.00 USDT</span> fee using <strong>Arbitrum Network</strong>:</p>
<div class="flex items-center bg-gray-700 p-2 rounded mb-3">
<code id="adminWalletWithdraw" class="text-xs break-all flex-1">0xb9fec9b1a49726089f058de4f4225ecbaa88cbbc</code>
<button onclick="copyAdminWallet()" class="text-green-500 ml-2 text-sm">Copy</button>
</div>
<p class="text-xs text-red-400 mb-3">‚ö†Ô∏è <strong>Use Arbitrum ONLY!</strong> Sending from BSC, Ethereum, or TRON will lose your funds.</p>
<p class="text-sm mb-2">Your Wallet (auto-filled):</p>
<p id="userWalletDisplay" class="text-sm bg-gray-700 p-2 rounded mb-3 break-all">‚Äî</p>
<p class="text-sm mb-2">Enter Transaction ID:</p>
<input type="text" id="withdrawTxId" class="w-full bg-gray-700 p-2 rounded mb-4" placeholder="e.g. 0xabc123...">
<div class="flex gap-2">
<button id="submitWithdrawBtn" onclick="submitWithdrawRequest()" class="flex-1 bg-amber-600 py-2 rounded">Submit Request</button>
<button onclick="document.getElementById('withdrawModal').classList.add('hidden')" class="flex-1 bg-gray-600 py-2 rounded">Cancel</button>
</div>
</div>
</div>
<!-- HOW IT WORKS MODAL -->
<div id="howItWorksModal" class="fixed inset-0 bg-black/80 flex items-center justify-center hidden z-50">
<div class="bg-gray-800 rounded-xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto">
<div class="flex justify-between items-center mb-4">
<h3 class="text-lg font-bold">How It Works</h3>
<button onclick="document.getElementById('howItWorksModal').classList.add('hidden')" class="text-gray-400 hover:text-white">
<i class="fas fa-times"></i>
</button>
</div>
<!-- Video 1: Set Wallet -->
<div class="mb-5">
<p class="text-xs text-gray-400 mb-2">1. Set Your Arbitrum Wallet</p>
<div class="aspect-video bg-black rounded-lg overflow-hidden">
<iframe
src="https://www.youtube.com/embed/07O80xdXrdY"
frameborder="0"
allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
allowfullscreen
class="w-full h-full">
</iframe>
</div>
</div>
<!-- Video 2: Buy Boosters -->
<div class="mb-5">
<p class="text-xs text-gray-400 mb-2">2. Buy a Booster</p>
<div class="aspect-video bg-black rounded-lg overflow-hidden">
<iframe
src="https://www.youtube.com/embed/07O80xdXrdY"
frameborder="0"
allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
allowfullscreen
class="w-full h-full">
</iframe>
</div>
</div>
<!-- Video 3: Withdraw -->
<div class="mb-5">
<p class="text-xs text-gray-400 mb-2">3. Withdraw Funds</p>
<div class="aspect-video bg-black rounded-lg overflow-hidden">
<iframe
src="https://www.youtube.com/embed/07O80xdXrdY"
frameborder="0"
allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
allowfullscreen
class="w-full h-full">
</iframe>
</div>
</div>
<p class="text-xs text-gray-500 mt-2 text-center">
Watch all videos. More coming soon!
</p>
</div>
</div>
<!-- Need help? -->
<div class="text-center mt-2">
<a href="mailto:auraaimoney@gmail.com" target="_blank" class="text-xs text-gray-500 hover:text-gray-300">Need help?</a>
</div>
<!-- Terms Footer -->
<div class="text-center text-xs text-gray-500 mt-8 pb-4">
<p>UGX Mine is for mining purposes. Ugx and crypto currency used only.
<a href="#" class="text-gray-400 hover:underline">Terms of Use</a>
</p>
</div>
</div>
<script>
// ‚úÖ CLEANED SUPABASE CREDENTIALS
const SUPABASE_URL = 'https://rryvibgbpqyumfmgsiua.supabase.co';
const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJyeXZpYmdicHF5dW1mbWdzaXVhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY4OTUwNTUsImV4cCI6MjA4MjQ3MTA1NX0.IMqZtMEiPyMwb8AW1gyFao9Yz2qWgMDibfbpVWOeG8o';
const _supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

let user = null;
let timer;
let withdrawFeeUSDT = 0;
let boosterExpiryTimer = null;

// --- BOOSTER REWARD: 2x COST IN 24H ---
function getBoosterReward(balance, type) {
if (balance <= 0) return 0;
if (type === 'eagle') return Math.floor(balance / 3);
else if (type === 'falcon') return Math.floor((2 * balance) / 3);
else return Math.floor((4 * balance) / 3); // phoenix
}

// REFERRAL
const urlParams = new URLSearchParams(window.location.search);
const referrer = urlParams.get('ref');

// --- BOOSTER EXPIRY ---
async function checkBoosterExpiry() {
if (!user || !user.booster_expires_at) return;
const now = new Date();
const expires = new Date(user.booster_expires_at);
if (now > expires) {
await _supabase.from('users').update({
mining_cycle_hours: 24,
mining_reward: 5000,
booster_expires_at: null
}).eq('username', user.username);
user.mining_cycle_hours = 24;
user.mining_reward = 5000;
user.booster_expires_at = null;
updateUI();
startTimer();
alert("Your booster has expired. Back to standard mining.");
}
}

// --- WITHDRAW DAY HELPER ---
function getWithdrawInfo() {
const today = new Date().getDay();
const userDay = user.withdraw_day;
if (userDay == null || userDay === undefined) {
return { dayName: '‚Äî', daysLeft: null, isToday: false };
}
const days = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
const dayName = days[userDay];
let daysLeft = userDay - today;
if (daysLeft <= 0) daysLeft += 7;
if (daysLeft === 7) daysLeft = 0;
return { dayName, daysLeft, isToday: daysLeft === 0 };
}

// ... (rest of your auth, dashboard, booster, withdrawal logic remains unchanged)

// --- CRITICAL: Update copyAdminWallet to new Arbitrum address ---
function copyAdminWallet() {
    navigator.clipboard.writeText('0xb9fec9b1a49726089f058de4f4225ecbaa88cbbc');
    alert('Arbitrum wallet copied! Use Arbitrum network only.');
}

// ... (rest of your script unchanged)
// Keep all existing functions: loadDashboard, updateUI, startTimer, etc.

</script>
</body>
</html>
